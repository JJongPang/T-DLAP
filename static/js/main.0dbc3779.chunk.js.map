{"version":3,"sources":["component/img_item/img_item.module.css","component/img_list/img_list.module.css","App.module.css","component/img_add_form/img_add_form.jsx","component/img_item/img_item.jsx","component/img_preview/img_preview.jsx","component/img_list/img_list.jsx","App.jsx","reportWebVitals.js","service/image_uploader.js","component/img_input/img_input.jsx","index.js","component/img_preview/img_preview.module.css","component/img_input/img_input.module.css"],"names":["module","exports","ImageAddForm","FileInput","addCard","formRef","useRef","ref","className","styles","form","onFileChange","file","card","id","Date","now","fileURL","url","current","reset","ImgItem","onDragStart","onDragOver","onDrop","onDragLeave","dataPosition","item","data-position","draggable","img","src","alt","ImgPreview","preview","cards","box","icon","faImage","title","ImgList","handlerPreviewEvent","imgePreview","list","onClick","map","index","initialDnDState","draggedFrom","draggedTo","isDragging","originalOrder","updatedOrder","App","useState","setCards","setPreview","dragAndDrop","setDragAndDrop","updated","event","initialPosition","Number","currentTarget","dataset","position","preventDefault","newList","itemDragged","remainingItems","filter","slice","undefined","target","currentSrc","inputImage","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ImageUploader","data","FormData","append","fetch","method","body","result","json","ImgInput","imageUploader","loading","setLoading","inputRef","onChange","a","upload","files","uploaded","name","original_filename","input","type","accept","button","click","ReactDOM","render","StrictMode","props","document","getElementById"],"mappings":"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","file":"static/js/main.0dbc3779.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"img_item_item__2vD3N\",\"img\":\"img_item_img__TnnNk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"img_list_box__12DaA\",\"list\":\"img_list_list__3Bjky\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"App_box__1EqL3\"};","import React, { useRef } from 'react';\r\nimport styles from './img_add_form.module.css';\r\n\r\nconst ImageAddForm = ({FileInput, addCard}) => {\r\n    const formRef = useRef();\r\n\r\n    const onFileChange = file => {\r\n        const card = {\r\n            id: Date.now(),\r\n            fileURL: file.url || '',\r\n        };\r\n        formRef.current.reset();\r\n        addCard(card);\r\n    };\r\n\r\n    return (\r\n        <form ref={formRef} className={styles.form}> \r\n            <FileInput onFileChange={onFileChange} />\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default ImageAddForm;","import React from 'react';\r\nimport styles from './img_item.module.css';\r\n\r\nconst ImgItem = ({ card, onDragStart, onDragOver, onDrop, onDragLeave, dataPosition}) => {\r\n    return(\r\n        <li \r\n            className={styles.item}\r\n            data-position={dataPosition}\r\n            draggable\r\n            onDragStart={onDragStart}\r\n            onDragOver={onDragOver}\r\n            onDrop={onDrop}\r\n            onDragLeave={onDragLeave}\r\n        >\r\n            <img className={styles.img} src={card.fileURL} alt=\"card\" />\r\n        </li>\r\n    )\r\n};\r\n\r\nexport default ImgItem;","import React from 'react';\r\nimport styles from './img_preview.module.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {faImage} from \"@fortawesome/free-solid-svg-icons\"\r\n\r\nconst ImgPreview = ({preview, cards}) => {\r\n    return (\r\n        <li className={styles.preview}>\r\n            { preview && cards && <img className={styles.img} src={preview.fileURL} alt=\"card\" /> }\r\n            { \r\n                !preview && \r\n                    <div className={styles.box}>\r\n                        <FontAwesomeIcon className={styles.icon} icon={faImage} />\r\n                        <span className={styles.title}>Choose an Image</span>\r\n                    </div>\r\n                }\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default ImgPreview;","import ImageAddForm from '../img_add_form/img_add_form';\r\nimport ImgItem from '../img_item/img_item';\r\nimport ImgPreview from '../img_preview/img_preview';\r\nimport styles from './img_list.module.css';\r\n\r\n\r\nconst ImgList = ({ preview, handlerPreviewEvent, cards, addCard, FileInput, onDragStart, onDragOver, onDrop, onDragLeave,imgePreview }) => {\r\n    return (\r\n        <div className={styles.box}>\r\n            <ul className={styles.list} onClick={handlerPreviewEvent}>\r\n                <ImgPreview cards={cards} preview={preview} />\r\n                {\r\n                    cards.map((card, index) => (\r\n                        <ImgItem \r\n                            key={card.id} \r\n                            card={card}\r\n                            dataPosition={index}\r\n                            onDragStart={onDragStart}\r\n                            onDragOver={onDragOver}\r\n                            onDrop={onDrop}\r\n                            onDragLeave={onDragLeave}\r\n                        />\r\n                    ))\r\n                }\r\n            </ul>\r\n            <ImageAddForm FileInput={FileInput} addCard={addCard} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ImgList;","import React, {  useState } from 'react';\nimport styles from './App.module.css';\nimport ImgList from './component/img_list/img_list';\n\n\nconst initialDnDState = {\n    draggedFrom: null,\n    draggedTo: null,\n    isDragging: false,\n    originalOrder: [],\n    updatedOrder: [],\n};\n\nconst App = ({ FileInput }) => {\n    const [cards, setCards] = useState([]);\n    const [preview, setPreview] = useState(null);\n    const [dragAndDrop, setDragAndDrop] = useState(initialDnDState);\n\n    const onDragStart = (event) => {\n        const initialPosition = Number(event.currentTarget.dataset.position);\n\n        setDragAndDrop({\n            ...dragAndDrop,\n            draggedFrom: initialPosition,\n            isDragging: true,\n            originalOrder: cards,\n        });\n    };\n\n    const onDragOver = (event) => {\n        event.preventDefault();\n        let newList = dragAndDrop.originalOrder;\n        const draggedFrom = dragAndDrop.draggedFrom;\n        const draggedTo = Number(event.currentTarget.dataset.position);\n        const itemDragged = newList[draggedFrom];\n        const remainingItems = newList.filter((item, index) => index !== draggedFrom);\n\n        newList = [...remainingItems.slice(0, draggedTo), itemDragged, ...remainingItems.slice(draggedTo)];\n\n        if (draggedTo !== dragAndDrop.draggedTo) {\n            setDragAndDrop({\n                ...dragAndDrop,\n                updatedOrder: newList,\n                draggedTo: draggedTo,\n            });\n        }\n    };\n\n    const onDrop = () => {\n        setCards(dragAndDrop.updatedOrder);\n\n        setDragAndDrop({\n            ...dragAndDrop,\n            draggedFrom: null,\n            draggedTo: null,\n            isDragging: false,\n        });\n    };\n\n    const onDragLeave = () => {\n        setDragAndDrop({\n            ...dragAndDrop,\n            draggedTo: null,\n        });\n    };\n\n    const addCard = (card) => {\n        const updated = [...cards, card];\n        setCards(updated)\n    }\n\n    const handlerPreviewEvent= (event) => {\n        if(event.target.currentSrc !== undefined) {\n            const inputImage = {\n                fileURL: event.target.currentSrc\n            }\n            setPreview(inputImage)\n        }\n    } \n\n    return (\n        <div className={styles.box}>\n            <ImgList \n                cards={cards}  \n                FileInput={FileInput} \n                addCard={addCard} \n                onDragStart={onDragStart}\n                onDragOver={onDragOver}\n                onDrop={onDrop}\n                onDragLeave={onDragLeave}\n                handlerPreviewEvent={handlerPreviewEvent}\n                preview={preview}\n            />\n        </div>\n    );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","class ImageUploader {\r\n    async upload(file) {\r\n        const data = new FormData();\r\n        data.append('file', file);\r\n        data.append('upload_preset', 'pdzaoz52');\r\n        const result = await fetch('https://api.cloudinary.com/v1_1/drqni4rhj/upload', {\r\n            method: 'POST',\r\n            body: data,\r\n        });\r\n        return await result.json();\r\n    }\r\n}\r\n\r\nexport default ImageUploader;\r\n","import React, { useRef, useState } from 'react';\r\nimport styles from './img_input.module.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {faImage} from \"@fortawesome/free-solid-svg-icons\"\r\n\r\nconst ImgInput = ({imageUploader, onFileChange}) => {\r\n    const [loading, setLoading] = useState(false);\r\n    const inputRef = useRef();\r\n\r\n    const onButtonClick = (event) => {\r\n        event.preventDefault();\r\n        inputRef.current.click();\r\n    }\r\n    \r\n    const onChange = async (event) => {\r\n        setLoading(true);\r\n        const uploaded = await imageUploader.upload(event.target.files[0]);\r\n        setLoading(false);\r\n        onFileChange({\r\n            name: uploaded.original_filename,\r\n            url: uploaded.url\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <input ref={inputRef} className={styles.input} type=\"file\" accept=\"image/*\" name=\"file\" onChange={onChange} />\r\n                {!loading && \r\n                    <button className={styles.button} onClick={onButtonClick}>\r\n                        <FontAwesomeIcon className={styles.icon} icon={faImage} />\r\n                        <span className={styles.title}>Add Image</span>\r\n                    </button>}\r\n                {loading && <div className={styles.loading}></div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ImgInput;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport ImageUploader from './service/image_uploader';\nimport ImgInput from './component/img_input/img_input';\n\nconst imageUploader = new ImageUploader();\nconst FileInput = (props) => <ImgInput {...props} imageUploader={imageUploader} />;\n\nReactDOM.render(\n    <React.StrictMode>\n        <App FileInput={FileInput} />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preview\":\"img_preview_preview__QN2ep\",\"img\":\"img_preview_img__35iEN\",\"box\":\"img_preview_box__cK8wH\",\"icon\":\"img_preview_icon__9YT4Q\",\"title\":\"img_preview_title__2xYNm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"img_input_box__1D71v\",\"input\":\"img_input_input__2kTRS\",\"button\":\"img_input_button__SauSw\",\"icon\":\"img_input_icon__3f8Jv\",\"title\":\"img_input_title__1eNVK\",\"loading\":\"img_input_loading__2VvNS\",\"spin\":\"img_input_spin__aEazm\"};"],"sourceRoot":""}